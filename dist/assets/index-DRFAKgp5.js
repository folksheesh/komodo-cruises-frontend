import{r as rt,c as u,o as r,a as e,b as we,d as le,w as Ne,e as be,f as _t,n as Y,t as v,g as p,h as D,i as ut,j as qe,k as ls,T as os,l as ns,F as X,m as oe,p as Se,v as Ze,q as xt,s as is,u as At,x as re,y as rs,z as He,A as us,B as Dt,C as ds,D as cs,E as vs}from"./vendor-Dq63WMG3.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))g(d);new MutationObserver(d=>{for(const S of d)if(S.type==="childList")for(const E of S.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&g(E)}).observe(document,{childList:!0,subtree:!0});function b(d){const S={};return d.integrity&&(S.integrity=d.integrity),d.referrerPolicy&&(S.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?S.credentials="include":d.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function g(d){if(d.ep)return;d.ep=!0;const S=b(d);fetch(d.href,S)}})();const Nt=(w,i)=>{const b=w.__vccOpts||w;for(const[g,d]of i)b[g]=d;return b},ps={},ms={key:0,class:"nav-inner"},ys={key:1,class:"nav-inner"},fs={class:"nav-right"},bs={key:2,class:"nav-inner"},gs={class:"nav-right"},hs={class:"nav-search"},ks={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",style:{"vertical-align":"middle","margin-right":"4px"}},ws={class:"nav-menu"},Ss={width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor",style:{"vertical-align":"middle","margin-left":"6px"}},$s={key:0,class:"site-footer mt-16"},Cs={class:"footer-inner container text-sm"};function Ds(w,i){const b=rt("router-link"),g=rt("router-view");return r(),u("div",null,[e("header",{class:Y(["nav-container",{"nav-overlay":w.$route.path==="/","home-nav":w.$route.path==="/"}])},[w.$route.meta.planHeader?(r(),u("nav",ms,[i[1]||(i[1]=e("div",{style:{display:"flex","align-items":"center",gap:".75rem",color:"var(--ocean-900)"}},[e("div",{class:"brand"},"Plan your trip")],-1)),we(b,{class:"link-close",to:"/"},{default:Ne(()=>[...i[0]||(i[0]=[be("Close ✕",-1)])]),_:1})])):w.$route.path==="/results"?(r(),u("nav",ys,[i[3]||(i[3]=e("div",{class:"nav-left"},[e("span",{class:"brand-text"},"Komodo Cruises")],-1)),e("div",fs,[we(b,{to:"/",class:"back-link"},{default:Ne(()=>[...i[2]||(i[2]=[be("‹ Back to komodocruises.com",-1)])]),_:1})])])):(r(),u("nav",bs,[i[9]||(i[9]=e("div",{class:"nav-left"},[e("span",{class:"brand-chip"},"Komodo Cruises")],-1)),e("div",gs,[w.$route.path!=="/"?(r(),_t(b,{key:0,to:"/plan",class:"btn-plan"},{default:Ne(()=>[...i[4]||(i[4]=[be("Plan your trip",-1)])]),_:1})):le("",!0),e("span",hs,[(r(),u("svg",ks,[...i[5]||(i[5]=[e("circle",{cx:"9",cy:"9",r:"7",stroke:"currentColor","stroke-width":"2"},null,-1),e("line",{x1:"15.2",y1:"15.2",x2:"19",y2:"19",stroke:"currentColor","stroke-width":"2"},null,-1)])])),i[6]||(i[6]=e("span",{class:"nav-label"},"Search",-1))]),e("span",ws,[i[8]||(i[8]=e("span",{class:"nav-label"},"Menu",-1)),(r(),u("svg",Ss,[...i[7]||(i[7]=[e("rect",{y:"6",width:"28",height:"3",rx:"1.5"},null,-1),e("rect",{y:"13",width:"28",height:"3",rx:"1.5"},null,-1),e("rect",{y:"20",width:"28",height:"3",rx:"1.5"},null,-1)])]))])])]))],2),we(g),!w.$route.meta.planHeader&&w.$route.path!=="/"?(r(),u("footer",$s,[e("div",Cs,"© "+v(new Date().getFullYear())+" Komodo Cruises",1)])):le("",!0)])}const _s=Nt(ps,[["render",Ds]]),lt=""+new URL("komodo-BowhS1uY.jpg",import.meta.url).href,xs="https://script.google.com/macros/s/AKfycbwvfIHPdbGq7cVlbX6g1IPoBdE2xIqYD9fZJclMlq9AYAFGa--e3eGV15HbYfrj2z4vLw/exec";function Mt(w){const i=new URL(xs),b=new URLSearchParams;for(const[g,d]of Object.entries(w))d!==void 0&&b.set(g,d);return i.search=b.toString(),i.toString()}async function Tt(w){if(!w.ok)throw new Error(`HTTP ${w.status}: ${w.statusText}`);const i=await w.json();if((i==null?void 0:i.ok)===!1)throw new Error(i.error||"API error");return i}const ot=new Map,nt=new Map,Oe=new Map;async function We(w){const i=`cabins|${w||""}`;if(ot.has(i))return ot.get(i);const b=Mt({resource:"cabins",sheet:w}),g=await fetch(b),d=await Tt(g);return ot.set(i,d),d}async function Ue(w,i){if(!/^\d{4}-\d{2}-\d{2}$/.test(w))throw new Error("Date must be in YYYY-MM-DD format");const b=`${w}|${i||""}`;if(nt.has(b))return nt.get(b);if(Oe.has(b))return Oe.get(b);const g=Mt({resource:"availability",date:w,sheet:i}),d=fetch(g).then(S=>Tt(S)).then(S=>(nt.set(b,S),Oe.delete(b),S)).catch(S=>{throw Oe.delete(b),S});return Oe.set(b,d),d}function Re(w){const i=w.getFullYear(),b=String(w.getMonth()+1).padStart(2,"0"),g=String(w.getDate()).padStart(2,"0");return`${i}-${b}-${g}`}function dt(w){return new Date(w+"T00:00:00")}function ct(w,i){const b=dt(w);return b.setDate(b.getDate()+i),Re(b)}function As(w,i){const b=dt(w),g=dt(i),d=[];for(let S=new Date(b);S<=g;S.setDate(S.getDate()+1))d.push(Re(S));return d}function It(){return Re(new Date)}const Ns={key:0,class:"modal-overlay"},Ms={class:"modal-container"},Ts={class:"modal-body"},Is={class:"plan-wrap plan-page"},Ps={class:"plan-content"},Fs={class:"steps",role:"tablist","aria-label":"Plan steps"},Es=["disabled"],Os=["disabled"],qs=["disabled"],Rs=["disabled"],Gs={key:0},Ls={class:"list"},Bs={class:"list-text"},zs=["value","aria-label"],Ys={key:1},Js={class:"list"},Vs={class:"list-text"},Ks=["value","aria-label"],Us={key:0,class:"muted"},Hs={key:2},Ws={class:"date-input-section"},Zs=["min"],Qs={class:"custom-calendar"},js={class:"calendar-header"},Xs={class:"calendar-title"},ea={class:"calendar-grid"},ta={class:"calendar-days"},sa=["disabled","onClick"],aa={key:3},la={class:"counters"},oa={class:"counter-row"},na={class:"counter-ctrls"},ia={class:"count"},ra={class:"counter-row"},ua={class:"counter-ctrls"},da={class:"count"},ca={class:"counter-row"},va={class:"counter-ctrls"},pa={class:"count"},ma={class:"counter-row"},ya={class:"counter-ctrls"},fa={class:"count"},ba={key:4},ga={class:"bottom-bar"},ha={class:"nav-inner",style:{display:"flex","align-items":"center","justify-content":"space-between"}},ka={key:1},wa="Nusa Tenggara Timur",Sa={__name:"PlanModal",props:{isOpen:Boolean},emits:["close","navigate-to-results"],setup(w,{emit:i}){const b=w,g=i,d=p(1),S=["Komodo National Park","Labuan Bajo"],E=[{label:"Dinara Phinisi",sheet:"DINARA (Phinisi) (Normalized)"},{label:"Zendaya",sheet:"Zendaya (Superior) (Normalized)"}],R=p([]),c=p([]),P=p([]),A=p(""),J=p(""),O=p(2),ee=p(0),ne=p(0),te=p(0),M=p(new Date().getMonth()),B=p(new Date().getFullYear()),q=["Destinations","Ships","Dates","Guests","Submit"],$e=D(()=>q[d.value-2]||""),Ce=D(()=>d.value<5?q[d.value-1]+" ›":"Submit ›"),De=D(()=>It()),he=D(()=>`${["January","February","March","April","May","June","July","August","September","October","November","December"][M.value]} ${B.value}`),K=D(()=>{const k=new Date(B.value,M.value,1),o=new Date(B.value,M.value+1,0),m=new Date(k),ue=new Date;m.setDate(m.getDate()-m.getDay());const Ge=[],Ie=new Date(o);Ie.setDate(Ie.getDate()+(6-o.getDay()));for(let pe=new Date(m);pe<=Ie;pe.setDate(pe.getDate()+1)){const de=pe.getDay(),Pe=pe.getMonth()===M.value,Qe=Pe&&pe>=ue&&(de===1||de===5),Le=Re(pe);Ge.push({key:pe.getTime(),date:pe.getDate(),fullDate:Le,isCurrentMonth:Pe,isSelectable:Qe,isSelected:A.value===Le,isMonday:de===1,isFriday:de===5})}return Ge}),U=D(()=>c.value.length>0),H=D(()=>c.value.length>0&&P.value.length>0),V=D(()=>c.value.length>0&&P.value.length>0&&!!A.value);ut(c,()=>{P.value=[]}),ut(()=>b.isOpen,k=>{k?document.body.style.overflow="hidden":document.body.style.overflow=""},{immediate:!0}),qe(async()=>{try{const o=(await Promise.all(E.map(m=>We(m.sheet).then(()=>({s:m,ok:!0})).catch(()=>({s:m,ok:!1}))))).filter(m=>m.ok).map(m=>m.s);R.value=o.length?o:E}catch(k){console.warn("Failed to validate ship sheets:",k),R.value=E}}),ls(()=>{document.body.style.overflow=""});function G(){g("close")}function se(k){d.value=k}function ge(){if(d.value===1&&c.value.length===0)return h("Please select at least one destination first.");if(d.value===2&&P.value.length===0)return h("Please select at least one ship first.");if(d.value===3&&!A.value)return h("Please select a start date first.");d.value<5?d.value++:C()}function _e(){d.value>1&&d.value--}function xe(){C()}function Me(){C()}function C(){const k=R.value.filter(m=>P.value.includes(m.sheet)).map(m=>m.label),o={region:wa,destination:c.value[0]||"",destinations:c.value.slice(),ships:k,shipSheets:P.value.slice(),ship:k[0]||"",lodges:k.slice(),dateFrom:A.value,dateTo:J.value,adults:O.value,children:ee.value,age3_9:ne.value,age0_2:te.value,totalGuests:O.value+ee.value+ne.value+te.value,timestamp:Date.now()};localStorage.setItem("komodo_search_criteria",JSON.stringify(o)),g("navigate-to-results")}function l(k){k==="adults"?O.value++:k==="children"?ee.value++:k==="age3_9"?ne.value++:k==="age0_2"&&te.value++}function W(k){k==="adults"&&O.value>0?O.value--:k==="children"&&ee.value>0?ee.value--:k==="age3_9"&&ne.value>0?ne.value--:k==="age0_2"&&te.value>0&&te.value--}function h(k){alert(k)}function ae(){M.value===0?(M.value=11,B.value--):M.value--}function ye(){M.value===11?(M.value=0,B.value++):M.value++}function L(k){k.isSelectable&&(A.value=k.fullDate,J.value=ct(k.fullDate,3))}return(k,o)=>(r(),_t(ns,{to:"body"},[we(os,{name:"modal-fade"},{default:Ne(()=>[w.isOpen?(r(),u("div",Ns,[e("div",Ms,[e("div",{class:"modal-header"},[e("div",{class:"modal-header-content"},[o[16]||(o[16]=e("h2",{class:"modal-title"},"Plan your trip",-1)),e("button",{class:"modal-close",onClick:G},"Close ✕")])]),e("div",Ts,[e("section",Is,[e("div",Ps,[e("div",Fs,[e("button",{class:Y(["step",{"step-active":d.value===1}]),onClick:o[0]||(o[0]=m=>se(1))},"Step 1",2),e("button",{class:Y(["step",{"step-active":d.value===2}]),onClick:o[1]||(o[1]=m=>se(2)),disabled:!U.value},"Step 2",10,Es),e("button",{class:Y(["step",{"step-active":d.value===3}]),onClick:o[2]||(o[2]=m=>se(3)),disabled:!H.value},"Step 3",10,Os),e("button",{class:Y(["step",{"step-active":d.value===4}]),onClick:o[3]||(o[3]=m=>se(4)),disabled:!V.value},"Step 4",10,qs),e("button",{class:Y(["step",{"step-active":d.value===5}]),onClick:o[4]||(o[4]=m=>se(5)),disabled:!V.value},"Step 5",10,Rs)]),d.value===1?(r(),u("div",Gs,[o[18]||(o[18]=e("h3",{class:"step-title"},"Destinations",-1)),o[19]||(o[19]=e("p",{class:"results-note"},"Select the destinations you're interested in:",-1)),e("div",Ls,[o[17]||(o[17]=e("div",{class:"list-heading"},"Nusa Tenggara Timur",-1)),(r(),u(X,null,oe(S,m=>e("div",{class:"list-row",key:m},[e("div",Bs,v(m),1),Se(e("input",{class:"check",type:"checkbox",value:m,"onUpdate:modelValue":o[5]||(o[5]=ue=>c.value=ue),"aria-label":`Destination ${m}`},null,8,zs),[[Ze,c.value]])])),64))])])):d.value===2?(r(),u("div",Ys,[o[21]||(o[21]=e("h3",{class:"step-title"},"Ships",-1)),o[22]||(o[22]=e("p",{class:"results-note"},"Please select one or more ships:",-1)),e("div",Js,[o[20]||(o[20]=e("div",{class:"list-heading"},"Available Ships",-1)),(r(!0),u(X,null,oe(R.value,m=>(r(),u("div",{class:"list-row",key:m.sheet},[e("div",Vs,v(m.label),1),Se(e("input",{class:"check",type:"checkbox",value:m.sheet,"onUpdate:modelValue":o[6]||(o[6]=ue=>P.value=ue),"aria-label":`Ship ${m.label}`},null,8,Ks),[[Ze,P.value]])]))),128)),R.value.length===0?(r(),u("div",Us,"No ships found from API.")):le("",!0)])])):d.value===3?(r(),u("div",Hs,[o[25]||(o[25]=e("h3",{class:"step-title"},"Dates",-1)),o[26]||(o[26]=e("p",{class:"results-note"},"Select the start date for your trip:",-1)),o[27]||(o[27]=e("p",{class:"results-note text-sm"},"Trips start only on Mondays and Fridays.",-1)),e("div",Ws,[o[23]||(o[23]=e("label",{class:"date-label"},"Start Date:",-1)),Se(e("input",{type:"text",disabled:"",class:"input date-input","onUpdate:modelValue":o[7]||(o[7]=m=>A.value=m),min:De.value},null,8,Zs),[[xt,A.value]])]),e("div",Qs,[e("div",js,[e("button",{class:"calendar-nav",onClick:ae,type:"button"},"‹"),e("h4",Xs,v(he.value),1),e("button",{class:"calendar-nav",onClick:ye,type:"button"},"›")]),e("div",ea,[o[24]||(o[24]=e("div",{class:"calendar-weekdays"},[e("div",{class:"weekday"},"Su"),e("div",{class:"weekday"},"Mo"),e("div",{class:"weekday"},"Tu"),e("div",{class:"weekday"},"We"),e("div",{class:"weekday"},"Th"),e("div",{class:"weekday"},"Fr"),e("div",{class:"weekday"},"Sa")],-1)),e("div",ta,[(r(!0),u(X,null,oe(K.value,m=>(r(),u("button",{key:m.key,class:Y(["calendar-day",{"other-month":!m.isCurrentMonth,selected:m.isSelected,disabled:!m.isSelectable,monday:m.isMonday,friday:m.isFriday}]),disabled:!m.isSelectable,onClick:ue=>L(m),type:"button"},v(m.date),11,sa))),128))])])])])):d.value===4?(r(),u("div",aa,[o[32]||(o[32]=e("h3",{class:"step-title"},"Guests",-1)),o[33]||(o[33]=e("p",{class:"results-note"},"Please indicate how many adults will need to be accommodated.",-1)),o[34]||(o[34]=e("p",{class:"results-note"},"If your booking includes children, please enquire directly on the next step.",-1)),o[35]||(o[35]=e("p",{class:"results-note"},"View our child policy for each lodge here.",-1)),e("div",la,[e("div",oa,[o[28]||(o[28]=e("div",{class:"counter-text"},[e("div",{class:"semibold"},"Adults"),e("div",{class:"muted text-sm"},"Ages 17+")],-1)),e("div",na,[e("button",{type:"button",class:"btn-icon",onClick:o[8]||(o[8]=m=>W("adults"))},"−"),e("span",ia,v(O.value),1),e("button",{type:"button",class:"btn-icon",onClick:o[9]||(o[9]=m=>l("adults"))},"+")])]),e("div",ra,[o[29]||(o[29]=e("div",{class:"counter-text"},[e("div",{class:"semibold"},"Children"),e("div",{class:"muted text-sm"},"Ages 10 - 16")],-1)),e("div",ua,[e("button",{type:"button",class:"btn-icon",onClick:o[10]||(o[10]=m=>W("children"))},"−"),e("span",da,v(ee.value),1),e("button",{type:"button",class:"btn-icon",onClick:o[11]||(o[11]=m=>l("children"))},"+")])]),e("div",ca,[o[30]||(o[30]=e("div",{class:"counter-text"},[e("div",{class:"semibold"},"Ages 3 - 9")],-1)),e("div",va,[e("button",{type:"button",class:"btn-icon",onClick:o[12]||(o[12]=m=>W("age3_9"))},"−"),e("span",pa,v(ne.value),1),e("button",{type:"button",class:"btn-icon",onClick:o[13]||(o[13]=m=>l("age3_9"))},"+")])]),e("div",ma,[o[31]||(o[31]=e("div",{class:"counter-text"},[e("div",{class:"semibold"},"Ages 0 - 2")],-1)),e("div",ya,[e("button",{type:"button",class:"btn-icon",onClick:o[14]||(o[14]=m=>W("age0_2"))},"−"),e("span",fa,v(te.value),1),e("button",{type:"button",class:"btn-icon",onClick:o[15]||(o[15]=m=>l("age0_2"))},"+")])])])])):(r(),u("div",ba,[o[36]||(o[36]=e("h3",{class:"step-title"},"Check Availability",-1)),o[37]||(o[37]=e("p",{class:"results-note"}," To see if we have availability for your preferred criteria, please click the button below. ",-1)),e("div",{class:"mt-4"},[e("button",{class:"btn-primary",onClick:xe},"Check now")]),o[38]||(o[38]=e("div",{class:"section-divider",style:{margin:"1.5rem 0"}},null,-1)),o[39]||(o[39]=e("h4",{class:"section-title"},"Speak with a Komodo Cruises Travel Advisor",-1)),o[40]||(o[40]=e("p",{class:"results-note"}," Need some help to plan your trip? Enquire below to contact one of our Komodo Cruises Travel Advisors. ",-1)),e("div",{class:"mt-4"},[e("button",{class:"btn-primary",onClick:Me},"Enquire now")])])),e("div",ga,[e("div",ha,[d.value>1?(r(),u("button",{key:0,class:"link-muted",onClick:_e},"‹ "+v($e.value),1)):(r(),u("span",ka)),e("button",{class:"btn-primary",onClick:ge},v(Ce.value),1)])])])])])])])):le("",!0)]),_:1})]))}},$a=Nt(Sa,[["__scopeId","data-v-18a02328"]]),Ca={class:"home-footer"},Da={class:"home-footer-inner container"},_a={class:"hf-links"},xa={class:"hf-meta"},Aa={__name:"Home",setup(w){const i=rs(),b=p(!1);let g;function d(){b.value=!0}function S(){b.value=!1}function E(){b.value=!1,i.push("/results")}return qe(async()=>{await is();const R=Array.from(document.querySelectorAll(".reveal"));R.length&&(g=new IntersectionObserver(c=>{c.forEach(P=>{P.isIntersecting&&(P.target.classList.add("revealed"),g==null||g.unobserve(P.target))})},{threshold:.2}),R.forEach(c=>g.observe(c)))}),At(()=>{g==null||g.disconnect()}),(R,c)=>(r(),u(X,null,[e("section",{class:"hero-section"},[e("div",null,[c[0]||(c[0]=e("h1",{class:"hero-title"},"Shores of Wonder",-1)),c[1]||(c[1]=e("p",{class:"hero-sub"},"Embark on an exclusive voyage through the Komodo Islands.",-1)),e("button",{class:"hero-cta",onClick:d},"Plan your trip")])]),e("section",{class:"story-section"},[e("div",{class:"story-grid container"},[c[5]||(c[5]=e("div",{class:"story-media reveal"},[e("img",{src:lt,alt:"Komodo landscape",loading:"lazy"})],-1)),e("div",{class:"story-copy reveal"},[c[2]||(c[2]=e("p",{class:"eyebrow"},"A story unfolds",-1)),c[3]||(c[3]=e("h2",{class:"story-title"},"Journeys shaped by the Komodo Islands",-1)),c[4]||(c[4]=e("p",{class:"story-text"},"From quiet sunrises over pink shores to manta-filled seas, our voyages are crafted to reveal the soul of this archipelago with care and purpose.",-1)),e("button",{class:"story-cta",onClick:d},"Our story")])])]),e("section",{class:"story-section alt"},[e("div",{class:"story-grid reverse container"},[c[9]||(c[9]=e("div",{class:"story-media reveal"},[e("img",{src:lt,alt:"Dive with mantas",loading:"lazy"})],-1)),e("div",{class:"story-copy reveal"},[c[6]||(c[6]=e("p",{class:"eyebrow"},"Crafted voyages",-1)),c[7]||(c[7]=e("h2",{class:"story-title"},"Sail, dive, and wander across wild horizons",-1)),c[8]||(c[8]=e("p",{class:"story-text"},"Every itinerary balances unhurried exploration with effortless comfort—private landings, expert guides, and moments designed to feel both rare and personal.",-1)),e("button",{class:"story-cta",onClick:d},"View experiences")])])]),e("section",{class:"story-section"},[e("div",{class:"story-grid container"},[c[13]||(c[13]=e("div",{class:"story-media reveal"},[e("img",{src:lt,alt:"Conservation in Komodo",loading:"lazy"})],-1)),e("div",{class:"story-copy reveal"},[c[10]||(c[10]=e("p",{class:"eyebrow"},"Stewardship",-1)),c[11]||(c[11]=e("h2",{class:"story-title"},"Travel that protects what makes this place extraordinary",-1)),c[12]||(c[12]=e("p",{class:"story-text"},"We partner with local communities and conservation programs so your journey supports education, marine research, and livelihoods across the islands.",-1)),e("button",{class:"story-cta",onClick:d},"Our commitment")])])]),e("footer",Ca,[e("div",Da,[c[18]||(c[18]=e("div",{class:"hf-brand"},[e("div",{class:"hf-logo"},"Komodo Cruises"),e("div",{class:"hf-copy"},"Rare journeys across the Komodo Islands.")],-1)),e("nav",_a,[e("a",{href:"#",onClick:re(d,["prevent"])},"Plan your trip"),c[14]||(c[14]=e("a",{href:"#"},"Experiences",-1)),c[15]||(c[15]=e("a",{href:"#"},"Our story",-1)),c[16]||(c[16]=e("a",{href:"#"},"Contact",-1))]),e("div",xa,[e("div",null,"© "+v(new Date().getFullYear())+" Komodo Cruises",1),c[17]||(c[17]=e("div",{class:"hf-small"},"All voyages subject to weather and park regulations.",-1))])])]),we($a,{isOpen:b.value,onClose:S,onNavigateToResults:E},null,8,["isOpen"])],64))}},Na={class:"results-wrap"},Ma={class:"results-container"},Ta={class:"results-layout"},Ia={class:"results-main"},Pa={key:0,class:"loading-state"},Fa={key:1,class:"error-state"},Ea={class:"error-message"},Oa={key:2},qa={class:"results-intro"},Ra={key:0,class:"success-message"},Ga={key:1,class:"no-availability"},La={key:0,class:"lodge-results"},Ba={class:"cabin-image"},za=["src","alt","onError"],Ya=["onClick"],Ja=["onClick"],Va={class:"cabin-content"},Ka={class:"cabin-header"},Ua={class:"cabin-title-group"},Ha={class:"cabin-name"},Wa={class:"cabin-location-row"},Za={class:"cabin-location"},Qa=["onClick"],ja={class:"cabin-info-section"},Xa={class:"cabin-info-left"},el={class:"suite-price"},tl={class:"suite-availability"},sl={class:"cabin-info-right"},al=["onClick"],ll={class:"btn-text"},ol={class:"btn-icon"},nl={key:0,class:"icon-x"},il={key:1,class:"icon-circle"},rl={key:1,class:"availability-alternative",style:{"margin-bottom":"1rem"}},ul={key:2,class:"lodge-results"},dl={class:"lodge-gallery"},cl={class:"lodge-image"},vl=["src","alt","onError"],pl=["onClick"],ml=["onClick"],yl={class:"lodge-info"},fl={class:"lodge-header",style:{display:"flex","align-items":"flex-start","justify-content":"space-between",gap:"1rem"}},bl={class:"lodge-name",style:{margin:"0"}},gl={class:"lodge-location",style:{margin:".25rem 0 0"}},hl={class:"suites-info"},kl={class:"availability-count",style:{margin:".25rem 0 1rem"}},wl={key:3,class:"lodge-results"},Sl={class:"lodge-gallery"},$l={class:"lodge-image"},Cl=["src","alt","onError"],Dl=["onClick"],_l=["onClick"],xl={class:"lodge-info"},Al={class:"lodge-header",style:{display:"flex","align-items":"flex-start","justify-content":"space-between",gap:"1rem"}},Nl={class:"lodge-name",style:{margin:"0"}},Ml={class:"lodge-location",style:{margin:".25rem 0 0"}},Tl={key:0,class:"availability-success"},Il={key:1,class:"availability-alternative"},Pl={class:"suites-info"},Fl={class:"suites-header",style:{display:"flex","align-items":"center","justify-content":"space-between"}},El={class:"price-from"},Ol={class:"availability-count",style:{margin:".25rem 0 1rem"}},ql={key:4,class:"no-results"},Rl={class:"sidebar-container"},Gl={class:"sidebar-section check-availability-section"},Ll=["aria-expanded"],Bl={class:"caret"},zl=["onClick"],Yl={class:"list-text"},Jl=["value"],Vl=["aria-expanded"],Kl={class:"caret"},Ul={class:"dropdown-group-title"},Hl=["onClick"],Wl={class:"list-text"},Zl=["value"],Ql={key:0,class:"muted"},jl=["aria-expanded"],Xl={class:"caret"},eo={class:"simple-guests"},to={class:"simple-guests-ctrls"},so={class:"count"},ao=["aria-expanded"],lo={class:"caret"},oo={class:"date-input-section"},no=["value"],io={class:"custom-calendar"},ro={class:"calendar-header"},uo={class:"calendar-title"},co={class:"calendar-grid"},vo={class:"calendar-days"},po=["disabled","onClick"],mo={class:"sidebar-alt",style:{display:"flex","align-items":"center","justify-content":"space-between",gap:".75rem","margin-top":".75rem"}},yo=["aria-pressed"],fo={class:"itinerary-sidebar"},bo={key:0,class:"itinerary-empty"},go={key:1,class:"itinerary-list"},ho={class:"itinerary-item-header"},ko={class:"itinerary-lodge-name"},wo=["onClick"],So={class:"itinerary-cabin-name"},$o={class:"itinerary-price"},Co={class:"itinerary-dates"},Do={class:"modal-body"},_o={class:"modal-image-section"},xo=["src","alt"],Ao={class:"modal-info-section"},No={class:"modal-cabin-name"},Mo={class:"modal-rate-section"},To={class:"modal-rate-details"},Io={class:"modal-rate-info"},Po={class:"cabin-quantity-selector"},Fo={class:"quantity-controls"},Eo=["disabled"],Oo={class:"quantity-value"},qo=["disabled"],Ro={class:"quantity-available"},Go={key:1,class:"enquiry-modal-overlay"},Lo={class:"enquiry-modal-content"},Bo={class:"enquiry-modal-body"},zo={class:"enquiry-form-section"},Yo={class:"enquiry-summary-section"},Jo={class:"summary-items"},Vo={class:"summary-item-header"},Ko={class:"summary-lodge-name"},Uo={class:"summary-item-details"},Ho={class:"summary-cabin"},Wo={class:"summary-price"},Zo={class:"summary-dates"},it="Nusa Tenggara Timur",Qo={__name:"Results",setup(w){const i=p(!1),b=p(""),g=p(null),d=p({}),S=p([]),E=p(null),R=p([]),c=p(!1),P=p(!1),A=p(null),J=p(1),O=p(!1),ee=["Komodo National Park","Labuan Bajo"],ne=[{label:"Dinara Phinisi",sheet:"DINARA (Phinisi) (Normalized)"},{label:"Zendaya",sheet:"Zendaya (Superior) (Normalized)"}],te=p([]),M=p([]),B=p([]),q=p(""),$e=p(2),Ce=p(0),De=p(0),he=p(0),K=p(2),U=p(!1),H=p(!1),V=p(!1),G=p(!1),se=p(!1),ge=p(!1),_e=p(!1),xe=p(!1),Me=p(null),C=p(null),l=p(null),W=p(null);function h(){U.value=!1,H.value=!1,V.value=!1,G.value=!1}function ae(s){s==="regions"?(U.value=!U.value,H.value=V.value=G.value=!1):s==="ships"?(H.value=!H.value,U.value=V.value=G.value=!1):s==="guests"?(V.value=!V.value,U.value=H.value=G.value=!1):s==="dates"&&(G.value=!G.value,U.value=H.value=V.value=!1)}function ye(s){s==="regions"?(U.value=!1,H.value=!0,V.value=G.value=!1):s==="ships"?(H.value=!1,V.value=!0,U.value=G.value=!1):s==="guests"?(V.value=!1,G.value=!0,U.value=H.value=!1):s==="dates"&&h()}const L=p(new Date().getMonth()),k=p(new Date().getFullYear());D(()=>It());const o=D(()=>`${["January","February","March","April","May","June","July","August","September","October","November","December"][L.value]} ${k.value}`),m=D(()=>{const s=new Date(k.value,L.value,1),t=new Date(k.value,L.value+1,0),n=new Date(s),y=new Date;n.setDate(n.getDate()-n.getDay());const a=[],f=new Date(t);f.setDate(f.getDate()+(6-t.getDay()));for(let $=new Date(n);$<=f;$.setDate($.getDate()+1)){const T=$.getDay(),x=$.getMonth()===L.value,Z=x&&$>=y&&(T===1||T===5),_=Re($);a.push({key:$.getTime(),date:$.getDate(),fullDate:_,isCurrentMonth:x,isSelectable:Z,isSelected:q.value===_,isMonday:T===1,isFriday:T===5})}return a});function ue(s){let t=L.value+s,n=k.value;t>11&&(t=0,n+=1),t<0&&(t=11,n-=1),L.value=t,k.value=n}function Ge(){ue(1)}function Ie(){ue(-1)}const pe=D(()=>{if(M.value.length)return M.value[0];const s=g.value;return Array.isArray(s==null?void 0:s.destinations)&&s.destinations.length?s.destinations[0]:it}),de=D(()=>{var y,a,f;const s=g.value;if(!s)return[];const t=s.ships&&s.ships.length?s.ships:s.lodges||[],n=[];for(const $ of t){const T=d.value[$]||[];let x=0,Z=0;for(const I of T){const Q=(((y=I==null?void 0:I.operators)==null?void 0:y.flatMap(F=>F.cabins||[]))||[]).reduce((F,Ve)=>{const Ee=String(Ve).match(/\((\d+)\)/);return F+(Ee?parseInt(Ee[1]):0)},0);x+=Q,Z+=Q}const _=T.length,me=_>0?x/_:0,ie=me>=(s.totalGuests||0),N=Math.max(1,s.totalGuests||(s.adults||0)+(s.children||0)),ce=T.find(I=>(I==null?void 0:I.date)===s.dateFrom)||T[0],ve=(((f=(a=ce==null?void 0:ce.operators)==null?void 0:a[0])==null?void 0:f.cabins)||[]).reduce((I,j)=>{const Q=String(j).match(/\((\d+)\)/),F=Q?parseInt(Q[1]):0;return I+(F>=N?1:0)},0);n.push({lodge:$,hasAvailability:ie,availableSlots:Math.floor(me),totalSlots:_>0?Math.floor(Z/_):0,image:"/src/images/komodo.jpg",availableCabinsCount:ve,dateFrom:s.dateFrom})}return n}),Pe=D(()=>Le.value.map(s=>({cabinName:s.cabinName,ship:s.ship,date:s.date,capacity:s.capacity,image:s.image||"/src/images/komodo.jpg"})));function Qe(s){if(typeof s=="string"){const n=s.match(/\(([^)]+)\)$/);if(n&&n[1]){const y=(n[1].match(/\d+/g)||[]).map(a=>parseInt(a));if(y.length)return Math.max(...y)}return null}const t=(s.capacity||s.capacity_lock||"").toString();if(t){const n=(t.match(/\d+/g)||[]).map(y=>parseInt(y));if(n.length)return Math.max(...n)}return null}const Le=D(()=>{const s=g.value;if(!s)return[];const t=s.ships&&s.ships.length?s.ships:s.lodges||[],n=s.dateFrom,y=Math.max(1,s.totalGuests||(s.adults||0)+(s.children||0)),a=[],f=new Set;for(const $ of t){const T=d.value[$]||[],x=T.find(_=>(_==null?void 0:_.date)===n)||T[0],Z=((x==null?void 0:x.operators)||[]).flatMap(_=>_.cabins||[]);for(const _ of Z){const me=mt(_),ie=Qe(_),N=typeof _=="string"?"":gt(_);if(ie==null||ie>=y){const fe=(typeof _!="string"&&(_!=null&&_.id)?String(_.id).trim().toLowerCase():null)||`${Ae($)}|${ze(me)}`;if(f.has(fe))continue;f.add(fe),a.push({ship:$,cabinName:me,capacity:ie,date:n,image:N})}}}return a});D(()=>{const s=g.value;return s?Math.max(1,s.totalGuests||(s.adults||0)+(s.children||0)):1});const Pt=D(()=>de.value.length>0&&de.value.every(s=>s.hasAvailability));D(()=>de.value.length>0&&de.value.some(s=>s.hasAvailability)&&!Pt.value),D(()=>de.value.some(s=>s.hasAvailability));const vt=D(()=>{const s=g.value;return s?Array.isArray(s.destinations)&&s.destinations.length?s.destinations.join(", "):s.destination||"":""});function ke(s){return s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}function Be(s){return s?ct(s,2):""}function Ft(s){if(!s)return"";const t=s.trim().split(/[\s(]+/)[0];return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}function je(s){console.log("Previous image for lodge:",s)}function Xe(s){console.log("Next image for lodge:",s)}function Et(s){const t=M.value.indexOf(s);t>=0?M.value.splice(t,1):M.value.push(s)}function Ot(s){const t=B.value.indexOf(s);t>=0?B.value.splice(t,1):B.value.push(s)}function qt(s){s.isSelectable&&(q.value=s.fullDate)}function Ae(s){return s?String(s).replace(/\([^)]*\)/g," ").toLowerCase().replace(/[^a-z0-9]+/g," ").trim().replace(/\s+/g," "):""}function ze(s){if(!s)return"";let t=String(s);t=t.replace(/\([^)]*\)$/,"").trim();const n=t.split(/[-–—]/);return t=n[n.length-1],t.toLowerCase().replace(/[^a-z0-9]+/g," ").trim().replace(/\s+/g," ")}async function Ye(){var s,t,n,y;if(g.value){i.value=!0,b.value="",d.value={},S.value=[],E.value=null;try{const a=g.value,f=As(a.dateFrom,a.dateTo),$=a.ships&&a.ships.length?a.ships:a.lodges||[],T=a.shipSheets&&a.shipSheets.length?a.shipSheets:$;(t=(s=import.meta)==null?void 0:s.env)!=null&&t.DEV&&console.debug("[Results] criteria",{labels:$,sheets:T,dateFrom:a.dateFrom,dateTo:a.dateTo});let x=null;const Z=()=>(x||(x=We("Cruise Schedule - Normalized").catch(()=>null)),x),_={};await Promise.all(T.map(async(N,ce)=>{const fe=$[ce]||N;let ve=[];try{const I=await We(N);Array.isArray(I==null?void 0:I.allCabins)&&(ve=I.allCabins.map(j=>String(j).split(" (")[0].trim()))}catch{}if(ve.length===0)try{const I=await Z();if(I){const j=Ae(fe),Q=(I.operators||[]).find(F=>Ae(F.operator)===j);Q&&Array.isArray(Q.cabins)&&(ve=Q.cabins.map(F=>String(F).split(" (")[0].trim()))}}catch{}_[N]=Array.from(new Set(ve.map(ze)))}));const me=await Promise.all(T.map(async(N,ce)=>{var Ee,St,$t;const fe=$[ce]||N,ve=_[N]||[],I=f.map(z=>Ue(z,N).catch(()=>null)),j=await Promise.all(I),Q=j.map((z,Te)=>!z||!z.operators||z.operators.length===0?Te:-1).filter(z=>z>=0);let F=[];if(Q.length){const z=Q.map(Ke=>Ue(f[Ke],"Cruise Schedule - Normalized").catch(()=>null));F=await Promise.all(z)}const Ve=[];for(let z=0;z<f.length;z++){const Te=j[z]&&j[z].operators&&j[z].operators.length?j[z]:Q.includes(z)?F[Q.indexOf(z)]:null;if(Te){const Ke=((Ee=Te.operators)==null?void 0:Ee.flatMap(at=>at.cabins||[]))||[],Ct=ve.length?Ke.filter(at=>ve.includes(ze(at))):Ke;Ve.push({...Te,operators:[{operator:fe,total:Ct.length,cabins:Ct}]})}else($t=(St=import.meta)==null?void 0:St.env)!=null&&$t.DEV&&console.debug(`[Results] No data for sheet=${N} date=${f[z]}`)}return[fe,Ve]})),ie={};for(const[N,ce]of me)ie[N]=ce;if(d.value=ie,S.value=Object.values(ie).flat(),a!=null&&a.dateFrom)try{let N=await Ue(a.dateFrom).catch(()=>null);(!N||!N.operators||N.operators.length===0)&&(N=await Ue(a.dateFrom,"Cruise Schedule - Normalized").catch(()=>null)),E.value=N||null}catch(N){(y=(n=import.meta)==null?void 0:n.env)!=null&&y.DEV&&console.debug("[Results] global start availability error",N)}S.value.length===0&&(b.value="No availability data found for the selected dates and ships.")}catch(a){b.value=`Failed to check availability: ${a.message}`,console.error("Availability check error:",a)}finally{i.value=!1}}}const Rt=()=>Ye(),Gt=()=>Ye(),Lt=()=>{c.value=!c.value};function Bt(){try{const s=te.value.filter(n=>B.value.includes(n.sheet)).map(n=>n.label),t={region:it,destination:M.value[0]||"",destinations:M.value.slice(),ships:s,shipSheets:B.value.slice(),ship:s[0]||"",lodges:s.slice(),dateFrom:q.value,dateTo:q.value?ct(q.value,3):"",adults:K.value,children:0,age3_9:0,age0_2:0,totalGuests:K.value,timestamp:Date.now()};if(localStorage.setItem("komodo_search_criteria",JSON.stringify(t)),g.value=t,q.value){const n=new Date(q.value);L.value=n.getMonth(),k.value=n.getFullYear()}Ye()}catch(s){console.error("Failed to apply sidebar changes",s),alert("Failed to apply changes")}}qe(async()=>{try{const s=localStorage.getItem("komodo_search_criteria");if(s){g.value=JSON.parse(s);const t=g.value||{};if(M.value=Array.isArray(t.destinations)?t.destinations.slice():t.destination?[t.destination]:[],B.value=Array.isArray(t.shipSheets)?t.shipSheets.slice():[],q.value=t.dateFrom||"",$e.value=t.adults??$e.value,Ce.value=t.children??Ce.value,De.value=t.age3_9??De.value,he.value=t.age0_2??he.value,K.value=t.totalGuests??$e.value+Ce.value+De.value+he.value,q.value){const n=new Date(q.value);L.value=n.getMonth(),k.value=n.getFullYear()}await Ye()}}catch(s){console.error("Failed to load search criteria:",s),b.value="Failed to load search criteria"}});function zt(s){return[Me.value,C.value,l.value,W.value].some(n=>n&&(n===s||n.contains(s)))}function pt(s){zt(s.target)||h()}qe(()=>document.addEventListener("click",pt)),At(()=>document.removeEventListener("click",pt));function mt(s){return s?typeof s=="string"?s.split(" (")[0].trim():(s.name||s["cabin name"]||"").toString().split(" (")[0].trim():""}function yt(s){return!s||typeof s=="string"?null:typeof s.available=="number"?s.available:null}function Yt(s){if(!s)return"";if(typeof s=="string"){const t=s.match(/\(([^)]+)\)$/);return t?t[1]:""}return s.capacity||s.capacity_lock||""}function Jt(s){return!s||typeof s=="string"?"":s.price_lock||s.price||""}function ft(s,t){return s&&typeof s!="string"&&s.shipname?s.shipname:(t||"").replace(/\([^)]*\)/g,"").trim()}function Vt(s){if(!s)return"";try{const t=String(s),n=bt(t);return n?`https://lh3.googleusercontent.com/d/${n}=w1600`:t}catch{return s}}function bt(s){if(!s)return"";const t=String(s).match(/\/d\/([^/?#]+)/),n=String(s).match(/[?&]id=([^&]+)/);return t&&t[1]||n&&n[1]||""}function Kt(s){const t=[],n=String(s||""),y=bt(n);return n&&t.push(n),y&&(t.push(`https://lh3.googleusercontent.com/d/${y}=w1600`),t.push(`https://drive.google.com/uc?export=view&id=${y}`),t.push(`https://drive.google.com/uc?export=download&id=${y}`),t.push(`https://drive.google.com/thumbnail?id=${y}&sz=w1600`)),Array.from(new Set(t))}function et(s,t){const n=s==null?void 0:s.target;if(!n)return;const y=parseInt(n.getAttribute("data-try")||"0",10),a=Kt(t);y<a.length-1?(n.setAttribute("data-try",String(y+1)),n.src=a[y+1]):n.src="/src/images/komodo.jpg"}function gt(s){if(!s||typeof s=="string")return"";const t=[];s.image_main&&t.push(s.image_main),Array.isArray(s.images)&&t.push(...s.images);for(let y=1;y<=10;y++){const a=`image_${y}`;s[a]&&t.push(s[a])}const n=t.find(y=>!!y&&String(y).trim().length>0)||"";return n?Vt(n):""}const tt=D(()=>{const s=g.value,t=E.value;if(!s||!t||!Array.isArray(t.operators))return[];const n=ht.value,y=new Map;for(const f of t.operators){const $=f.operator,T=f.cabins||[];for(const x of T){const Z=yt(x);if(Z!=null&&Z<=0)continue;const _=mt(x),me=Yt(x),ie=Jt(x),N=ft(x,$);if(n.length&&!kt(N,n))continue;const ce=typeof x!="string"&&(x!=null&&x.id)?String(x.id).trim().toLowerCase():null,fe=Ae($),ve=ze(_),I=ce||`${Ae(N)}|${ve}`||`${fe}|${ve}`,j=y.get(I),Q={key:I,operatorLabel:$,shipName:N,cabinName:_,available:Z,availableText:Z!=null?`${Z} available`:"Available",price:ie,capacityText:me,date:s.dateFrom,image:gt(x)||"/src/images/komodo.jpg",raw:x};if(!j)y.set(I,Q);else{const F={...j};F.available==null&&Z!=null&&(F.available=Z),!F.price&&ie&&(F.price=ie),!F.capacityText&&me&&(F.capacityText=me),F.availableText=F.available!=null?`${F.available} available`:"Available",y.set(I,F)}}}const a=Array.from(y.values());return a.sort((f,$)=>(f.operatorLabel||"").localeCompare($.operatorLabel||"")||(f.cabinName||"").localeCompare($.cabinName||"")),a}),ht=D(()=>{const s=g.value;if(!s)return[];const t=s.ships&&s.ships.length?s.ships:s.lodges||[],n=s.shipSheets&&s.shipSheets.length?s.shipSheets:[],y=new Set,a=f=>{const $=Ae(String(f).replace(/normalized/gi,"").replace(/cruise schedule/gi,""));if(!$)return;y.add($);const T=$.split(" ")[0];T&&y.add(T)};return t.forEach(a),n.forEach(a),Array.from(y)});function kt(s,t){const n=Ae(s);return t.some(y=>n.includes(y)||y.includes(n))}function Ut(){K.value=Math.min(16,(K.value||0)+1)}function Ht(){K.value=Math.max(1,(K.value||1)-1)}const Wt=D(()=>{const s=g.value,t=E.value;if(!s||!t||!Array.isArray(t.operators))return!1;const n=ht.value;if(n.length===0)return!1;for(const y of t.operators){const a=y.operator,f=y.cabins||[];for(const $ of f){const T=yt($);if(T!=null&&T<=0)continue;const x=ft($,a);if(!kt(x,n))return!0}}return!1});function Zt(s){A.value=s,P.value=!0,document.body.style.overflow="hidden"}function st(){P.value=!1,A.value=null,J.value=1,document.body.style.overflow=""}function Qt(){var t;const s=((t=A.value)==null?void 0:t.available)||1;J.value<s&&J.value++}function jt(){J.value>1&&J.value--}function Xt(){O.value=!0,document.body.style.overflow="hidden"}function es(){O.value=!1,document.body.style.overflow=""}function Fe(s){return R.value.some(t=>t.cabin===s.cabinName&&t.ship===s.shipName&&t.date===s.date)}function wt(s){Fe(s)?ss(s):ts(s)}function ts(s){try{const t="komodo_itinerary",n=JSON.parse(localStorage.getItem(t)||"[]");if(n.some(f=>f.cabin===s.cabinName&&f.ship===s.shipName&&f.date===s.date))return;const a={operator:s.operatorLabel,ship:s.shipName,cabin:s.cabinName,date:s.date,price:s.price||null,capacity:s.capacityText||null,qty:1,addedAt:Date.now()};n.push(a),localStorage.setItem(t,JSON.stringify(n)),Je()}catch(t){console.error("Failed to add to itinerary",t)}}function ss(s){try{const t="komodo_itinerary",y=JSON.parse(localStorage.getItem(t)||"[]").filter(a=>!(a.cabin===s.cabinName&&a.ship===s.shipName&&a.date===s.date));localStorage.setItem(t,JSON.stringify(y)),Je()}catch(t){console.error("Failed to remove from itinerary",t)}}function Je(){try{const t=JSON.parse(localStorage.getItem("komodo_itinerary")||"[]");R.value=Array.isArray(t)?t:[]}catch{R.value=[]}}function as(s){try{const t="komodo_itinerary",n=JSON.parse(localStorage.getItem(t)||"[]");n.splice(s,1),localStorage.setItem(t,JSON.stringify(n)),Je()}catch(t){console.error("Failed to remove item",t)}}return Je(),qe(async()=>{var s,t;try{const y=(await Promise.all(ne.map(a=>We(a.sheet).then(()=>({s:a,ok:!0})).catch(()=>({s:a,ok:!1}))))).filter(a=>a.ok).map(a=>a.s);te.value=y.length?y:ne,!B.value.length&&((t=(s=g.value)==null?void 0:s.shipSheets)!=null&&t.length)&&(B.value=g.value.shipSheets.slice())}catch(n){console.warn("Failed to validate ship sheets:",n),te.value=ne}}),(s,t)=>{var n,y;return r(),u("div",Na,[e("div",Ma,[e("div",Ta,[e("div",Ia,[t[45]||(t[45]=e("h2",{class:"results-title"},"Your Search Results",-1)),i.value?(r(),u("div",Pa,[...t[27]||(t[27]=[e("p",null,"Loading availability data...",-1)])])):b.value?(r(),u("div",Fa,[e("p",Ea,v(b.value),1),e("button",{onClick:Gt,class:"btn-primary"},"Try Again")])):(r(),u("div",Oa,[e("div",qa,[tt.value.length?(r(),u("div",Ra,[...t[28]||(t[28]=[e("p",null,[e("strong",null,"Your preferred travel dates are available!")],-1),e("p",null,"We have a team of Singita Journey Designers who are ready to plan your trip. Simply select the results that suit your preferences best and submit your enquiry.",-1),e("p",{class:"results-note-muted"},[e("span",{class:"semibold"},"Note:"),be(" These results indicate availability and do not guarantee a booking.")],-1)])])):c.value?le("",!0):(r(),u("div",Ga,[...t[29]||(t[29]=[e("p",null,[e("strong",null,"Your preferred dates are unfortunately not available, but there is availability at other Singita lodges or on alternate dates.")],-1),e("p",null,"We have a team of Singita Journey Designers who are ready to plan your trip. Simply select the results that suit your preferences best and submit your enquiry.",-1),e("p",{class:"results-note-muted"},[e("span",{class:"semibold"},"Note:"),be(" These results indicate availability and do not guarantee a booking.")],-1)])]))]),tt.value.length?(r(),u("div",La,[(r(!0),u(X,null,oe(tt.value,a=>(r(),u("div",{class:"cabin-card",key:a.key},[e("div",Ba,[e("img",{src:a.image,alt:a.cabinName,referrerpolicy:"no-referrer",decoding:"async",loading:"lazy",onError:f=>et(f,a.image)},null,40,za),e("button",{class:"gallery-nav gallery-prev",onClick:f=>je(a.cabinName),"aria-label":"Previous image"},"‹",8,Ya),e("button",{class:"gallery-nav gallery-next",onClick:f=>Xe(a.cabinName),"aria-label":"Next image"},"›",8,Ja)]),e("div",Va,[e("div",Ka,[e("div",Ua,[e("h3",Ha,v(a.cabinName),1),e("div",Wa,[e("p",Za,v(Ft(a.operatorLabel)),1),e("button",{class:"cabin-details-btn",onClick:f=>Zt(a)},[...t[30]||(t[30]=[be(" Cabin details ",-1),e("span",{class:"arrow-icon"},"›",-1)])],8,Qa)])])]),t[32]||(t[32]=e("div",{class:"cabin-divider"},null,-1)),t[33]||(t[33]=e("div",{class:"availability-box"},[e("h4",{class:"availability-title"},"Great news, we have availability!"),e("p",{class:"availability-text"},"Select the result that best suits you from the list below and it will be added to the itinerary summary on the right.")],-1)),e("div",ja,[e("div",Xa,[t[31]||(t[31]=e("p",{class:"suite-type"},"Suite",-1)),e("p",el,"from "+v(a.price||"Rp3,650,000")+" per adult, per night",1),e("p",tl,v(a.available||1)+" available",1)]),e("div",sl,[e("button",{class:Y(["btn-add-to-itinerary",{"in-itinerary":Fe(a)}]),onClick:f=>wt(a)},[e("span",ll,v(Fe(a)?"Remove":"Add to itinerary"),1),e("span",ol,[Fe(a)?(r(),u("span",nl,"×")):(r(),u("span",il))])],10,al)])])])]))),128))])):c.value&&Wt.value?(r(),u("div",rl,[...t[34]||(t[34]=[e("h4",null,"Alternative options are available",-1),e("p",null,"There are cabins available on other ships for your selected date. Adjust your ship selection to view them.",-1)])])):c.value&&Pe.value.length?(r(),u("div",ul,[(r(!0),u(X,null,oe(Pe.value,a=>(r(),u("div",{class:"lodge-card",key:a.ship+":"+a.cabinName},[e("div",dl,[e("div",cl,[e("img",{src:a.image,alt:a.cabinName,referrerpolicy:"no-referrer",decoding:"async",loading:"lazy",onError:f=>et(f,a.image)},null,40,vl),e("button",{class:"gallery-prev",onClick:f=>je(a.cabinName)},"<",8,pl),e("button",{class:"gallery-next",onClick:f=>Xe(a.cabinName)},">",8,ml)])]),e("div",yl,[e("div",fl,[e("div",null,[e("h3",bl,v(a.cabinName),1),e("p",gl,v(vt.value),1)]),t[35]||(t[35]=e("button",{class:"lodge-details-btn"},"Cabin details >",-1))]),t[38]||(t[38]=e("div",{class:"availability-success"},[e("h4",null,"Great news, we have availability!"),e("p",null,"Select the result that best suits you from the list below and it will be added to the itinerary summary on the right.")],-1)),e("div",hl,[t[36]||(t[36]=e("div",{class:"suites-header",style:{display:"flex","align-items":"center","justify-content":"space-between"}},[e("h5",{style:{margin:"0"}},"Suite"),e("span",{class:"price-from"},"1 available")],-1)),e("p",kl,"Date: "+v(ke(a.date)),1),t[37]||(t[37]=e("div",{class:"action-buttons",style:{display:"flex",gap:".5rem","align-items":"center"}},[e("button",{class:"btn-details"},"Room & Rate Details >"),e("button",{class:"btn-add-itinerary"},"Add to itinerary")],-1))])])]))),128))])):c.value&&de.value.length?(r(),u("div",wl,[(r(!0),u(X,null,oe(de.value,a=>(r(),u("div",{class:"lodge-card",key:a.lodge},[e("div",Sl,[e("div",$l,[e("img",{src:a.image,alt:a.lodge,referrerpolicy:"no-referrer",decoding:"async",loading:"lazy",onError:f=>et(f,a.image)},null,40,Cl),e("button",{class:"gallery-prev",onClick:f=>je(a.lodge)},"<",8,Dl),e("button",{class:"gallery-next",onClick:f=>Xe(a.lodge)},">",8,_l)])]),e("div",xl,[e("div",Al,[e("div",null,[e("h3",Nl,v(a.lodge),1),e("p",Ml,v(vt.value),1)]),t[39]||(t[39]=e("button",{class:"lodge-details-btn"},"Cabin details >",-1))]),a.hasAvailability?(r(),u("div",Tl,[...t[40]||(t[40]=[e("h4",null,"Great news, we have availability!",-1),e("p",null,"Select the result that best suits you from the list below and it will be added to the itinerary summary on the right.",-1)])])):(r(),u("div",Il,[...t[41]||(t[41]=[e("h4",null,"Alternative options are available",-1),e("p",null,"Unfortunately, there isn't availability for your selected dates. However, the following alternate options may suit your requirements.",-1)])])),e("div",Pl,[e("div",Fl,[t[42]||(t[42]=e("h5",{style:{margin:"0"}},"Suite",-1)),e("span",El,v(a.availableCabinsCount)+" available",1)]),e("p",Ol,"Date: "+v(ke(a.dateFrom)),1),t[43]||(t[43]=e("div",{class:"action-buttons",style:{display:"flex",gap:".5rem","align-items":"center"}},[e("button",{class:"btn-details"},"Room & Rate Details >"),e("button",{class:"btn-add-itinerary"},"Add to itinerary")],-1))])])]))),128))])):c.value?(r(),u("div",ql,[t[44]||(t[44]=e("p",null,"No alternative options found for your criteria.",-1)),e("button",{onClick:Rt,class:"btn-primary"},"Search Again")])):le("",!0)]))]),e("div",Rl,[e("div",Gl,[t[60]||(t[60]=e("h3",{class:"section-title-sidebar"},"Check Availability",-1)),e("div",{class:"list dropdown",ref_key:"destDropdown",ref:Me},[t[47]||(t[47]=e("div",{class:"list-heading"},"Destinations",-1)),e("button",{type:"button",class:Y(["select-summary",U.value||ge.value?"is-filled":""]),onMouseenter:t[0]||(t[0]=a=>ge.value=!0),onMouseleave:t[1]||(t[1]=a=>ge.value=!1),onClick:t[2]||(t[2]=re(a=>ae("regions"),["stop"])),"aria-expanded":U.value?"true":"false"},[e("span",null,"Destinations: "+v(M.value.length),1),e("span",Bl,v(U.value?"▴":"▾"),1)],42,Ll),U.value?(r(),u("div",{key:0,class:"dropdown-panel",onClick:t[6]||(t[6]=re(()=>{},["stop"]))},[e("div",{class:"dropdown-group-title"},v(it)),(r(),u(X,null,oe(ee,a=>e("div",{class:"list-row",key:a,onClick:f=>Et(a)},[e("div",Yl,v(a),1),Se(e("input",{class:"check",type:"checkbox",value:a,"onUpdate:modelValue":t[3]||(t[3]=f=>M.value=f),onClick:t[4]||(t[4]=re(()=>{},["stop"]))},null,8,Jl),[[Ze,M.value]])],8,zl)),64)),e("div",{class:"dropdown-footer",onClick:t[5]||(t[5]=a=>ye("regions"))},[...t[46]||(t[46]=[e("span",null,"Next",-1),e("span",{style:{"font-size":"1.1rem"}},"›",-1)])])])):le("",!0)],512),e("div",{class:"list dropdown",ref_key:"shipsDropdown",ref:C},[t[49]||(t[49]=e("div",{class:"list-heading"},"Ships",-1)),e("button",{type:"button",class:Y(["select-summary",H.value||se.value?"is-filled":""]),onMouseenter:t[7]||(t[7]=a=>se.value=!0),onMouseleave:t[8]||(t[8]=a=>se.value=!1),onClick:t[9]||(t[9]=re(a=>ae("ships"),["stop"])),"aria-expanded":H.value?"true":"false"},[e("span",null,"Ships: "+v(B.value.length),1),e("span",Kl,v(H.value?"▴":"▾"),1)],42,Vl),H.value?(r(),u("div",{key:0,class:"dropdown-panel",onClick:t[13]||(t[13]=re(()=>{},["stop"]))},[e("div",Ul,v(pe.value),1),(r(!0),u(X,null,oe(te.value,a=>(r(),u("div",{class:"list-row",key:a.sheet,onClick:f=>Ot(a.sheet)},[e("div",Wl,v(a.label),1),Se(e("input",{class:"check",type:"checkbox",value:a.sheet,"onUpdate:modelValue":t[10]||(t[10]=f=>B.value=f),onClick:t[11]||(t[11]=re(()=>{},["stop"]))},null,8,Zl),[[Ze,B.value]])],8,Hl))),128)),te.value.length===0?(r(),u("div",Ql,"No ships found from API.")):le("",!0),e("div",{class:"dropdown-footer",onClick:t[12]||(t[12]=a=>ye("ships"))},[...t[48]||(t[48]=[e("span",null,"Next",-1),e("span",{style:{"font-size":"1.1rem"}},"›",-1)])])])):le("",!0)],512),e("div",{class:"list dropdown",ref_key:"guestsDropdown",ref:l},[t[53]||(t[53]=e("div",{class:"list-heading"},"Guests",-1)),e("button",{type:"button",class:Y(["select-summary",V.value||_e.value?"is-filled":""]),onMouseenter:t[14]||(t[14]=a=>_e.value=!0),onMouseleave:t[15]||(t[15]=a=>_e.value=!1),onClick:t[16]||(t[16]=re(a=>ae("guests"),["stop"])),"aria-expanded":V.value?"true":"false"},[e("span",null,v(K.value)+" Guests",1),e("span",Xl,v(V.value?"▴":"▾"),1)],42,jl),V.value?(r(),u("div",{key:0,class:"dropdown-panel",onClick:t[18]||(t[18]=re(()=>{},["stop"]))},[t[52]||(t[52]=e("div",{class:"dropdown-group-title"},"Guests",-1)),e("div",eo,[t[50]||(t[50]=e("div",{class:"simple-guests-label"},"Guests",-1)),e("div",to,[e("button",{type:"button",class:"btn-icon",onClick:Ht},"−"),e("span",so,v(K.value),1),e("button",{type:"button",class:"btn-icon",onClick:Ut},"+")])]),e("div",{class:"dropdown-footer",onClick:t[17]||(t[17]=a=>ye("guests"))},[...t[51]||(t[51]=[e("span",null,"Next",-1),e("span",{style:{"font-size":"1.1rem"}},"›",-1)])])])):le("",!0)],512),e("div",{class:"list dropdown",ref_key:"datesDropdown",ref:W},[t[58]||(t[58]=e("div",{class:"list-heading"},"Dates",-1)),e("button",{type:"button",class:Y(["select-summary",G.value||xe.value?"is-filled":""]),onMouseenter:t[19]||(t[19]=a=>xe.value=!0),onMouseleave:t[20]||(t[20]=a=>xe.value=!1),onClick:t[21]||(t[21]=re(a=>ae("dates"),["stop"])),"aria-expanded":G.value?"true":"false"},[e("span",null,v(q.value?`${q.value} → ${Be(q.value)}`:"Select date"),1),e("span",lo,v(G.value?"▴":"▾"),1)],42,ao),G.value?(r(),u("div",{key:0,class:"dropdown-panel",onClick:t[23]||(t[23]=re(()=>{},["stop"]))},[t[57]||(t[57]=e("div",{class:"dropdown-group-title"},"Dates",-1)),e("div",oo,[t[54]||(t[54]=e("label",{class:"date-label"},"Date Range:",-1)),e("input",{type:"text",disabled:"",class:"input date-input",value:q.value?`${ke(q.value)} → ${ke(Be(q.value))}`:""},null,8,no)]),e("div",io,[e("div",ro,[e("button",{class:"calendar-nav",onClick:Ie,type:"button"},"‹"),e("h4",uo,v(o.value),1),e("button",{class:"calendar-nav",onClick:Ge,type:"button"},"›")]),e("div",co,[t[55]||(t[55]=He('<div class="calendar-weekdays"><div class="weekday">Su</div><div class="weekday">Mo</div><div class="weekday">Tu</div><div class="weekday">We</div><div class="weekday">Th</div><div class="weekday">Fr</div><div class="weekday">Sa</div></div>',1)),e("div",vo,[(r(!0),u(X,null,oe(m.value,a=>(r(),u("button",{key:a.key,class:Y(["calendar-day",{"other-month":!a.isCurrentMonth,selected:a.isSelected,disabled:!a.isSelectable,monday:a.isMonday,friday:a.isFriday}]),disabled:!a.isSelectable,onClick:f=>qt(a),type:"button"},v(a.date),11,po))),128))])])]),e("div",{class:"dropdown-footer",onClick:t[22]||(t[22]=a=>ye("dates"))},[...t[56]||(t[56]=[e("span",null,"Next",-1),e("span",{style:{"font-size":"1.1rem"}},"›",-1)])])])):le("",!0)],512),e("div",mo,[t[59]||(t[59]=e("div",{class:"muted",style:{"font-size":".9rem"}},"My dates are flexible, show alternatives",-1)),e("button",{"aria-pressed":c.value?"true":"false",onClick:Lt,title:"toggle alternatives",style:us({width:"32px",height:"32px",borderRadius:"9999px",border:"none",display:"flex",alignItems:"center",justifyContent:"center",background:c.value?"#efcab6":"#e5e7eb",color:c.value?"#7a3e2d":"#374151"})},v(c.value?"✓":"•"),13,yo)]),e("div",{class:"sidebar-actions"},[e("button",{class:"btn-primary",onClick:Bt},"Apply")])]),e("div",fo,[t[62]||(t[62]=e("h3",{class:"itinerary-title"},"Your Itinerary",-1)),t[63]||(t[63]=e("p",{class:"itinerary-description"},"This is a summary of the accommodation you have selected. After submitting your booking request, a Singita Journey Designer will make contact to book and confirm your trip.",-1)),t[64]||(t[64]=e("div",{class:"itinerary-divider"},null,-1)),R.value.length===0?(r(),u("div",bo," You haven't selected any options yet. ")):(r(),u("ul",go,[(r(!0),u(X,null,oe(R.value,(a,f)=>(r(),u("li",{key:a.addedAt,class:"itinerary-item"},[e("div",ho,[e("h4",ko,v(a.ship),1),e("button",{class:"itinerary-remove-btn",onClick:$=>as(f),"aria-label":"Remove item"},[...t[61]||(t[61]=[e("span",{class:"remove-icon"},"×",-1)])],8,wo)]),e("div",So,v(a.cabin),1),e("div",$o,"from "+v(a.price||"ZAR 49 205")+" per adult, per night",1),e("div",Co,v(ke(a.date))+" → "+v(ke(Be(a.date))),1)]))),128))])),R.value.length?(r(),u("button",{key:2,class:"btn-send-enquiry",onClick:Xt},"Send Availability Enquiry")):le("",!0),t[65]||(t[65]=e("a",{href:"#",class:"link-speak-with-us"},"Speak with us ›",-1))])])])]),P.value&&A.value?(r(),u("div",{key:0,class:"modal-overlay",onClick:st},[e("div",{class:"modal-content",onClick:t[25]||(t[25]=re(()=>{},["stop"]))},[e("button",{class:"modal-close",onClick:st},"×"),t[74]||(t[74]=e("div",{class:"modal-header"},[e("span",{class:"modal-title"},"Room Information")],-1)),e("div",Do,[e("div",_o,[e("img",{src:A.value.image,alt:A.value.cabinName,referrerpolicy:"no-referrer",class:"modal-cabin-image"},null,8,xo),t[66]||(t[66]=e("button",{class:"modal-gallery-nav modal-gallery-prev","aria-label":"Previous"},"‹",-1)),t[67]||(t[67]=e("button",{class:"modal-gallery-nav modal-gallery-next","aria-label":"Next"},"›",-1))]),e("div",Ao,[e("h2",No,v(A.value.cabinName),1),t[73]||(t[73]=He('<div class="modal-cabin-meta"><span class="modal-meta-item"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg> Sleeps 3 </span><span class="modal-meta-item"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg> 1 King </span><span class="modal-meta-item"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg> 24 m² </span></div><div class="modal-description"><p>If you&#39;re desperate for a vacation, then this cottage will be the lifesaver you need. Bring your friends or family and step away from it all. Let the tides set the schedule and dive into relaxation. Book more friends into Tamarama next door and enjoy the uninterrupted views together.</p></div><div class="modal-amenities"><div class="amenity-item"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line></svg><span>Free Wifi</span></div><div class="amenity-item"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line></svg><span>Complimentary BBQ</span></div><div class="amenity-item"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg><span>Laundry Facilities</span></div><div class="amenity-item"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"></circle><path d="M12 1v6m0 6v6"></path><path d="m4.2 4.2 4.2 4.2m5.6 5.6 4.2 4.2"></path><path d="M1 12h6m6 0h6"></path><path d="m4.2 19.8 4.2-4.2m5.6-5.6 4.2-4.2"></path></svg><span>Playground</span></div><div class="amenity-item"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v6l4 2"></path></svg><span>Bike/Ski Storage</span></div></div>',3)),e("div",Mo,[t[70]||(t[70]=e("h3",{class:"modal-rate-title"},"Direct Rate",-1)),t[71]||(t[71]=e("p",{class:"modal-rate-description"},"Beat those winter blues with a 2 night stay and enjoy 10% off accommodation.",-1)),e("div",To,[e("div",Io,[e("div",Po,[t[68]||(t[68]=e("label",{class:"quantity-label"},"Number of Cabins",-1)),e("div",Fo,[e("button",{class:"quantity-btn",onClick:jt,disabled:J.value<=1},"−",8,Eo),e("span",Oo,v(J.value),1),e("button",{class:"quantity-btn",onClick:Qt,disabled:J.value>=(((n=A.value)==null?void 0:n.available)||1)},"+",8,qo)]),e("span",Ro,v(((y=A.value)==null?void 0:y.available)||0)+" available",1)])]),t[69]||(t[69]=e("div",{class:"modal-price"},[e("span",{class:"price-amount"},"A$380"),e("span",{class:"price-label"},"/Night"),e("span",{class:"price-note"},"Excluding taxes and fees.")],-1))]),t[72]||(t[72]=e("div",{class:"modal-actions"},[e("button",{class:"modal-link-btn"},"Read more ›"),e("button",{class:"modal-link-btn"},"View price breakdown ›")],-1)),e("button",{class:"modal-book-btn",onClick:t[24]||(t[24]=a=>{wt(A.value),st()})},v(Fe(A.value)?"Remove from itinerary":"Book Now"),1)])])])])])):le("",!0),O.value?(r(),u("div",Go,[e("div",Lo,[e("div",{class:"enquiry-modal-header"},[t[75]||(t[75]=e("h2",{class:"enquiry-modal-title"},"Plan your Trip",-1)),e("button",{class:"enquiry-modal-close",onClick:es},"Close ×")]),e("div",Bo,[e("div",zo,[t[77]||(t[77]=e("p",{class:"enquiry-intro"},"Please complete the form below and one of our Journey Designers will contact you shortly to plan your trip.",-1)),e("form",{class:"enquiry-form",onSubmit:t[26]||(t[26]=re((...a)=>s.submitEnquiry&&s.submitEnquiry(...a),["prevent"]))},[...t[76]||(t[76]=[He('<div class="form-row"><div class="form-group form-group-small"><label class="form-label">Title</label><select class="form-control"><option value="">Select</option><option value="mr">Mr</option><option value="mrs">Mrs</option><option value="ms">Ms</option><option value="dr">Dr</option></select></div><div class="form-group"><label class="form-label">First Name</label><input type="text" class="form-control" required></div><div class="form-group"><label class="form-label">Last Name</label><input type="text" class="form-control" required></div></div><div class="form-row"><div class="form-group"><label class="form-label">Contact Number</label><div class="phone-input"><select class="phone-country"><option value="+1">🇺🇸 +1</option><option value="+62">🇮🇩 +62</option><option value="+44">🇬🇧 +44</option></select><input type="tel" class="form-control" placeholder="+1"></div></div><div class="form-group"><label class="form-label">Country</label><select class="form-control"><option value="">Select Country</option><option value="us">United States</option><option value="id">Indonesia</option><option value="uk">United Kingdom</option><option value="au">Australia</option></select></div></div><div class="form-row"><div class="form-group"><label class="form-label">Email</label><input type="email" class="form-control" required></div><div class="form-group"><label class="form-label">Confirm Email Address</label><input type="email" class="form-control" required></div></div><div class="form-group"><label class="form-label">I am a:</label><select class="form-control"><option value="">Select</option><option value="guest">Guest</option><option value="agent">Travel Agent</option></select></div><div class="form-group"><label class="form-label">Is there anything else you&#39;d like to let us know?</label><textarea class="form-control form-textarea" rows="4"></textarea></div><div class="form-checkboxes"><label class="checkbox-label"><input type="checkbox"><span>Sign up to receive news and blog posts from Singita</span></label><label class="checkbox-label"><input type="checkbox" required><span>I consent to my submitted data being collected and stored</span></label></div><p class="form-note"><strong>PLEASE NOTE:</strong> These results indicate availability and do not guarantee a booking. One of our Journey Designers will contact you shortly to plan your trip. </p><button type="submit" class="btn-submit-enquiry">SEND ENQUIRY</button><p class="form-recaptcha">This form is protected by reCAPTCHA Enterprise and the Google Privacy Policy and Terms of Service apply.</p>',9)])],32)]),e("div",Yo,[t[78]||(t[78]=e("h3",{class:"summary-title"},"Your Itinerary",-1)),t[79]||(t[79]=e("p",{class:"summary-description"},"This is a summary of the accommodation you've selected. One of our Singita Journey Designers will contact you shortly to plan your trip.",-1)),e("div",Jo,[(r(!0),u(X,null,oe(R.value,(a,f)=>(r(),u("div",{key:f,class:"summary-item"},[e("div",Vo,[e("h4",Ko,v(a.ship),1)]),e("div",Uo,[e("p",Ho,v(a.cabin),1),e("p",Wo,v(a.price),1),e("p",Zo,v(ke(a.date))+" → "+v(ke(Be(a.date))),1)])]))),128))])])])])])):le("",!0)])}}},jo={class:"plan-wrap plan-page"},Xo={class:"plan-content"},en={class:"steps",role:"tablist","aria-label":"Plan steps"},tn=["disabled"],sn=["disabled"],an=["disabled"],ln=["disabled"],on={key:0},nn={class:"list"},rn={class:"list-text"},un=["value","aria-label"],dn={key:1},cn={class:"list"},vn={class:"list-text"},pn=["value","aria-label"],mn={key:2},yn={class:"date-input-section"},fn=["min"],bn={class:"custom-calendar"},gn={class:"calendar-header"},hn={class:"calendar-title"},kn={class:"calendar-grid"},wn={class:"calendar-days"},Sn=["disabled","onClick"],$n={key:3},Cn={class:"counters"},Dn={class:"counter-row"},_n={class:"counter-ctrls"},xn={class:"count"},An={class:"counter-row"},Nn={class:"counter-ctrls"},Mn={class:"count"},Tn={class:"counter-row"},In={class:"counter-ctrls"},Pn={class:"count"},Fn={class:"counter-row"},En={class:"counter-ctrls"},On={class:"count"},qn={key:4},Rn={class:"mt-4"},Gn={class:"mt-4"},Ln={class:"mt-4",style:{"text-align":"right"}},Bn={class:"bottom-bar"},zn={class:"nav-inner",style:{display:"flex","align-items":"center","justify-content":"space-between"}},Yn={key:1},Jn="Nusa Tenggara Timur",Vn={__name:"Plan",setup(w){const i=p(1),b=["Pulau Komodo","Labuan Bajo"],g=["Dinara","Zendaya"],d=p(""),S=p(""),E=p(""),R=p(""),c=p(2),P=p(0),A=p(0),J=p(0),O=p(new Date().getMonth()),ee=p(new Date().getFullYear()),ne=["Destinations","Ships","Dates","Guests","Submit"],te=D(()=>ne[i.value-2]||""),M=D(()=>i.value<5?ne[i.value-1]+" ›":"Submit ›"),B=D(()=>new Date().toISOString().split("T")[0]),q=D(()=>`${["January","February","March","April","May","June","July","August","September","October","November","December"][O.value]} ${ee.value}`),$e=D(()=>{const C=new Date(ee.value,O.value,1),l=new Date(ee.value,O.value+1,0),W=new Date(C),h=new Date;W.setDate(W.getDate()-W.getDay());const ae=[],ye=new Date(l);ye.setDate(ye.getDate()+(6-l.getDay()));for(let L=new Date(W);L<=ye;L.setDate(L.getDate()+1)){const k=L.getDay(),o=L.getMonth()===O.value,m=o&&L>=h&&(k===1||k===5),ue=L.toISOString().split("T")[0];ae.push({key:L.getTime(),date:L.getDate(),fullDate:ue,isCurrentMonth:o,isSelectable:m,isSelected:E.value===ue,isMonday:k===1,isFriday:k===5})}return ae}),Ce=D(()=>!!d.value),De=D(()=>!!d.value&&!!S.value),he=D(()=>!!d.value&&!!S.value&&!!E.value);ut(d,()=>{S.value=""});function K(C){i.value=C}function U(){if(i.value===1&&!d.value)return ge("Please select a destination first.");if(i.value===2&&!S.value)return ge("Please select a ship first.");if(i.value===3&&!E.value)return ge("Please select a start date first.");i.value<5?i.value++:V()}function H(){i.value>1&&i.value--}function V(){const C={region:Jn,destination:d.value,ship:S.value,lodges:S.value?[S.value]:[],dateFrom:E.value,dateTo:R.value,adults:c.value,children:P.value,age3_9:A.value,age0_2:J.value,totalGuests:c.value+P.value+A.value+J.value,timestamp:Date.now()};localStorage.setItem("komodo_search_criteria",JSON.stringify(C)),window.location.href="/results"}function G(C){C==="adults"?c.value++:C==="children"?P.value++:C==="age3_9"?A.value++:C==="age0_2"&&J.value++}function se(C){C==="adults"&&c.value>0?c.value--:C==="children"&&P.value>0?P.value--:C==="age3_9"&&A.value>0?A.value--:C==="age0_2"&&J.value>0&&J.value--}function ge(C){alert(C)}function _e(){O.value===0?(O.value=11,ee.value--):O.value--}function xe(){O.value===11?(O.value=0,ee.value++):O.value++}function Me(C){if(C.isSelectable){E.value=C.fullDate;const l=new Date(C.fullDate);l.setDate(l.getDate()+3),R.value=l.toISOString().split("T")[0]}}return(C,l)=>{const W=rt("router-link");return r(),u("section",jo,[e("div",Xo,[e("div",en,[e("button",{class:Y(["step",{"step-active":i.value===1}]),onClick:l[0]||(l[0]=h=>K(1))},"Step 1",2),e("button",{class:Y(["step",{"step-active":i.value===2}]),onClick:l[1]||(l[1]=h=>K(2)),disabled:!Ce.value},"Step 2",10,tn),e("button",{class:Y(["step",{"step-active":i.value===3}]),onClick:l[2]||(l[2]=h=>K(3)),disabled:!De.value},"Step 3",10,sn),e("button",{class:Y(["step",{"step-active":i.value===4}]),onClick:l[3]||(l[3]=h=>K(4)),disabled:!he.value},"Step 4",10,an),e("button",{class:Y(["step",{"step-active":i.value===5}]),onClick:l[4]||(l[4]=h=>K(5)),disabled:!he.value},"Step 5",10,ln)]),i.value===1?(r(),u("div",on,[l[17]||(l[17]=e("h3",{class:"step-title"},"Destinations",-1)),l[18]||(l[18]=e("p",{class:"results-note"},[be("Region: "),e("span",{class:"semibold"},"Nusa Tenggara Timur")],-1)),l[19]||(l[19]=e("p",{class:"results-note"},"Select a destination you're interested in:",-1)),e("div",nn,[l[16]||(l[16]=e("div",{class:"list-heading"},"Nusa Tenggara Timur",-1)),(r(),u(X,null,oe(b,h=>e("div",{class:"list-row",key:h},[e("div",rn,v(h),1),Se(e("input",{class:"radio",type:"radio",name:"destination",value:h,"onUpdate:modelValue":l[5]||(l[5]=ae=>d.value=ae),"aria-label":`Destination ${h}`},null,8,un),[[Dt,d.value]])])),64))])])):i.value===2?(r(),u("div",dn,[l[21]||(l[21]=e("h3",{class:"step-title"},"Ships",-1)),l[22]||(l[22]=e("p",{class:"results-note"},"Please select a ship:",-1)),e("div",cn,[l[20]||(l[20]=e("div",{class:"list-heading"},"Available Ships",-1)),(r(),u(X,null,oe(g,h=>e("div",{class:"list-row",key:h},[e("div",vn,v(h),1),Se(e("input",{class:"radio",type:"radio",name:"ship",value:h,"onUpdate:modelValue":l[6]||(l[6]=ae=>S.value=ae),"aria-label":`Ship ${h}`},null,8,pn),[[Dt,S.value]])])),64))])])):i.value===3?(r(),u("div",mn,[l[25]||(l[25]=e("h3",{class:"step-title"},"Dates",-1)),l[26]||(l[26]=e("p",{class:"results-note"},"Select the start date for your trip:",-1)),l[27]||(l[27]=e("p",{class:"results-note text-sm"},"Trips start only on Mondays and Fridays.",-1)),e("div",yn,[l[23]||(l[23]=e("label",{class:"date-label"},"Start Date:",-1)),Se(e("input",{type:"date",class:"input date-input","onUpdate:modelValue":l[7]||(l[7]=h=>E.value=h),min:B.value},null,8,fn),[[xt,E.value]])]),e("div",bn,[e("div",gn,[e("button",{class:"calendar-nav",onClick:_e,type:"button"},"‹"),e("h4",hn,v(q.value),1),e("button",{class:"calendar-nav",onClick:xe,type:"button"},"›")]),e("div",kn,[l[24]||(l[24]=He('<div class="calendar-weekdays"><div class="weekday">Su</div><div class="weekday">Mo</div><div class="weekday">Tu</div><div class="weekday">We</div><div class="weekday">Th</div><div class="weekday">Fr</div><div class="weekday">Sa</div></div>',1)),e("div",wn,[(r(!0),u(X,null,oe($e.value,h=>(r(),u("button",{key:h.key,class:Y(["calendar-day",{"other-month":!h.isCurrentMonth,selected:h.isSelected,disabled:!h.isSelectable,monday:h.isMonday,friday:h.isFriday}]),disabled:!h.isSelectable,onClick:ae=>Me(h),type:"button"},v(h.date),11,Sn))),128))])])])])):i.value===4?(r(),u("div",$n,[l[32]||(l[32]=e("h3",{class:"step-title"},"Guests",-1)),l[33]||(l[33]=e("p",{class:"results-note"},"Please indicate how many adults will need to be accommodated.",-1)),l[34]||(l[34]=e("p",{class:"results-note"},"If your booking includes children, please enquire directly on the next step.",-1)),l[35]||(l[35]=e("p",{class:"results-note"},"View our child policy for each lodge here.",-1)),e("div",Cn,[e("div",Dn,[l[28]||(l[28]=e("div",{class:"counter-text"},[e("div",{class:"semibold"},"Adults"),e("div",{class:"muted text-sm"},"Ages 17+")],-1)),e("div",_n,[e("button",{type:"button",class:"btn-icon",onClick:l[8]||(l[8]=h=>se("adults"))},"−"),e("span",xn,v(c.value),1),e("button",{type:"button",class:"btn-icon",onClick:l[9]||(l[9]=h=>G("adults"))},"+")])]),e("div",An,[l[29]||(l[29]=e("div",{class:"counter-text"},[e("div",{class:"semibold"},"Children"),e("div",{class:"muted text-sm"},"Ages 10 - 16")],-1)),e("div",Nn,[e("button",{type:"button",class:"btn-icon",onClick:l[10]||(l[10]=h=>se("children"))},"−"),e("span",Mn,v(P.value),1),e("button",{type:"button",class:"btn-icon",onClick:l[11]||(l[11]=h=>G("children"))},"+")])]),e("div",Tn,[l[30]||(l[30]=e("div",{class:"counter-text"},[e("div",{class:"semibold"},"Ages 3 - 9")],-1)),e("div",In,[e("button",{type:"button",class:"btn-icon",onClick:l[12]||(l[12]=h=>se("age3_9"))},"−"),e("span",Pn,v(A.value),1),e("button",{type:"button",class:"btn-icon",onClick:l[13]||(l[13]=h=>G("age3_9"))},"+")])]),e("div",Fn,[l[31]||(l[31]=e("div",{class:"counter-text"},[e("div",{class:"semibold"},"Ages 0 - 2")],-1)),e("div",En,[e("button",{type:"button",class:"btn-icon",onClick:l[14]||(l[14]=h=>se("age0_2"))},"−"),e("span",On,v(J.value),1),e("button",{type:"button",class:"btn-icon",onClick:l[15]||(l[15]=h=>G("age0_2"))},"+")])])])])):(r(),u("div",qn,[l[39]||(l[39]=e("h3",{class:"step-title"},"Check Availability",-1)),l[40]||(l[40]=e("p",{class:"results-note"}," To see if we have availability for your preferred criteria, please click the button below. ",-1)),e("div",Rn,[we(W,{class:"btn-primary",to:"/results"},{default:Ne(()=>[...l[36]||(l[36]=[be("Check now",-1)])]),_:1})]),l[41]||(l[41]=e("div",{class:"section-divider",style:{margin:"1.5rem 0"}},null,-1)),l[42]||(l[42]=e("h4",{class:"section-title"},"Speak with a Komodo Cruises Travel Advisor",-1)),l[43]||(l[43]=e("p",{class:"results-note"}," Need some help to plan your trip? Enquire below to contact one of our Komodo Cruises Travel Advisors. ",-1)),e("div",Gn,[we(W,{class:"btn-primary",to:"/results"},{default:Ne(()=>[...l[37]||(l[37]=[be("Enquire now",-1)])]),_:1})]),e("div",Ln,[we(W,{to:"/",class:"nav-link"},{default:Ne(()=>[...l[38]||(l[38]=[be("Back to Search",-1)])]),_:1})])])),e("div",Bn,[e("div",zn,[i.value>1?(r(),u("button",{key:0,class:"link-muted",onClick:H},"‹ "+v(te.value),1)):(r(),u("span",Yn)),e("button",{class:"btn-primary",onClick:U},v(M.value),1)])])])])}}},Kn=ds({history:cs(),routes:[{path:"/",component:Aa},{path:"/plan",component:Vn,meta:{planHeader:!0}},{path:"/results",component:Qo}]});vs(_s).use(Kn).mount("#app");
